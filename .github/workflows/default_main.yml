name: Bootcamp 2020 Urdu    # Name of the workflow

on:
  push:   # Trigger the workflow when code is pushed to the main branch
    branches:
      - main

jobs:
  deploy:
    runs-on: windows-latest    # Use the latest version of windows as the runner

    steps:
    - name: Checkout code    # Checkout the code from the repo
      uses: actions/checkout@v2

    - name: Installing Node     # Checkout the code from the repo
      uses: actions/setup-node@v2-beta
      with: 
          npm-version: 12

    - name: Install Surge CLI   # Install the Surge CLI globally
      run: npm install -g surge

    - name: Build and deploy website   # Build the static files and deploy to Surge
      run:  surge ./ grumpy-room.surge.sh  --token ${{ secrets.SURGE_TOKEN }}    